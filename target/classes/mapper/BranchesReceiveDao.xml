<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.BranchesReceiveDao">
	<!-- 添加总实例推送商品信息 -->
	<insert id="addPushCommodity" parameterType="com.entity.CommodityTab">
		INSERT INTO commodity_tab(comm_id,comm_putaway_id,comm_type,
		comm_cate_id,comm_supp_id,comm_brand_id,comm_name,comm_model,comm_unit,comm_main_img,comm_else_img,comm_details,comm_weight
		<if test="comm_price!=null">
			,comm_price
		</if>
		<if test="comm_current_price!=null">
			,comm_current_price
		</if>
		<if test="comm_status!=null">
			,comm_status
		</if>
		<if test="lock_status!=null">
			,lock_status
		</if>
		<if test="offline_price!=null">
			,offline_price
		</if>
		<if test="comm_specification!=null">
			,comm_specification
		</if>
		)
		VALUES
		(#{comm_id},#{comm_putaway_id},#{comm_type},#{comm_cate_id},#{comm_supp_id},#{comm_brand_id},#{comm_name},#{comm_model},#{comm_unit},#{comm_main_img},'${comm_else_img}',#{comm_details},#{comm_weight}
		<if test="comm_price!=null">
			,#{comm_price}
		</if>
		<if test="comm_current_price!=null">
			,#{comm_current_price}
		</if>
		<if test="comm_status!=null">
			,#{comm_status}
		</if>
		<if test="lock_status!=null">
			,#{lock_status}
		</if>
		<if test="offline_price!=null">
			,#{offline_price}
		</if>
		<if test="comm_specification!=null">
			,'${comm_specification}'
		</if>
		)
	</insert>
	<!-- 更新总实例推送商品信息 -->
	<update id="updatePushCommodity" parameterType="com.entity.CommodityTab">
		UPDATE commodity_tab
		<trim prefix="set" suffixOverrides=",">
			<if test="comm_type!=null">
				comm_type=#{comm_type},
			</if>
			<if test="comm_specification!=null">
				comm_specification='${comm_specification}',
			</if>
			<if test="comm_cate_id!=0">
				comm_cate_id=#{comm_cate_id},
			</if>
			<if test="comm_supp_id!=0">
				comm_supp_id=#{comm_supp_id},
			</if>
			<if test="comm_brand_id!=0">
				comm_brand_id=#{comm_brand_id},
			</if>
			<if test="comm_name!=null">
				comm_name=#{comm_name},
			</if>
			<if test="comm_model!=null">
				comm_model=#{comm_model},
			</if>
			<if test="comm_unit!=null">
				comm_unit=#{comm_unit},
			</if>
			<if test="comm_price!=null">
				comm_price=${comm_price},
			</if>
			<if test="comm_current_price!=null">
				comm_current_price=${comm_current_price},
			</if>
			<if test="comm_main_img!=null">
				comm_main_img=#{comm_main_img},
			</if>
			<if test="comm_else_img!=null">
				comm_else_img='${comm_else_img}',
			</if>
			<if test="comm_details!=null">
				comm_details=#{comm_details},
			</if>
			<if test="comm_putaway_id!=null">
				comm_putaway_id=#{comm_putaway_id},
			</if>
			<if test="comm_status!=null">
				comm_status=#{comm_status},
			</if>
			<if test="comm_weight!=null">
				comm_weight=#{comm_weight},
			</if>
			<if test="offline_price!=null">
				offline_price=#{offline_price},
			</if>
			<if test="lock_status!=null">
				lock_status=#{lock_status},
			</if>
		</trim>
		WHERE comm_putaway_id =#{comm_putaway_id} 
	</update>
	<!-- 删除总实例推送商品信息 -->
	<delete id="deletePushCommodity" parameterType="int">
		DELETE FROM
		commodity_tab WHERE comm_putaway_id =#{comm_putaway_id}
	</delete>
	<!-- 添加总实例推送品类信息 -->
	<insert id="addPushCategory" parameterType="com.entity.CategoryTab">
		INSERT INTO category_tab(cate_id,cate_name,cate_weight
		<if test="cate_superior!=0">
			,cate_superior
		</if>
		<if test="lock_status!=null">
			,lock_status
		</if>
		) VALUES (#{cate_id},#{cate_name},#{cate_weight}
		<if test="cate_superior!=0">
			,#{cate_superior}
		</if>
		<if test="lock_status!=null">
			,'锁定'
		</if>
		)
	</insert>
	<!-- 更新总实例推送品类信息 -->
	<update id="updatePushCategory" parameterType="com.entity.CategoryTab">
	UPDATE category_tab
		<trim prefix="set" suffixOverrides=",">
			<if test="cate_name!=null">
				cate_name=#{cate_name},
			</if>
			<if test="cate_superior!=0">
				cate_superior=#{cate_superior},
			</if>
			<if test="cate_weight!=null">
				cate_weight=#{cate_weight},
			</if>
			<!-- <if test="lock_status!=null">
				lock_status=#{lock_status},
			</if> -->
		</trim>
	WHERE cate_id =#{cate_id}
	</update>
	<!-- 添加总实例推送的商品规格信息 -->
	<insert id="addPushSpecifications" parameterType="java.util.HashMap">
		INSERT INTO
		specifications_tab(spec_id,spec_cate_id,spec_name,spec_form,spec_scope,lock_status) VALUES
		(#{spec_id},#{spec_cate_id},#{spec_name},#{spec_form},#{spec_scope},'锁定')
	</insert>
	<!-- 更新总实例推送的商品规格信息 -->
	<update id="updatePushSpecifications" parameterType="com.entity.SpecificationsTab">
		UPDATE specifications_tab 
		<trim prefix="set" suffixOverrides=",">
			<if test="spec_cate_id!=0">
				spec_cate_id=#{spec_cate_id},
			</if>
			<if test="spec_name!=null">
				spec_name=#{spec_name},
			</if>
			<if test="spec_form!=null">
				spec_form=#{spec_form},
			</if>
			<if test="spec_scope!=null">
				spec_scope=#{spec_scope},
			</if>
			<!-- <if test="lock_status!=null">
				lock_status = #{lock_status},
			</if> --> 
		</trim>
		WHERE spec_id =#{spec_id}
	</update>
	<!-- 添加总实例推送的供应商信息 -->
	<insert id="addPushSupplier" parameterType="com.entity.SupplierTab" >
		INSERT INTO
		supplier_tab(supp_id,supp_logo,supp_name,supp_weight,lock_status) VALUES
		(#{supp_id},#{supp_logo},#{supp_name},#{supp_weight},'锁定')
	</insert>
	<!-- 更新总实例推送的供应商信息 -->
	<update id="updatePushSupplier" parameterType="com.entity.SupplierTab">
		UPDATE supplier_tab 
		<trim prefix="set" suffixOverrides=",">
			<if test="supp_logo!=null">
				supp_logo=#{supp_logo},
			</if>
			<if test="supp_name!=null">
				supp_name=#{supp_name},
			</if>
			<if test="supp_weight!=0">
				supp_weight=#{supp_weight},
			</if>
			<!-- <if test="lock_status!=null">
				lock_status = #{lock_status},
			</if> -->
		</trim>
		WHERE supp_id =#{supp_id}
	</update>
	<!-- 删除总实例推送的供应商信息 -->
	<delete id="deletePushSupplier" parameterType="int">
		DELETE from supplier_tab WHERE supp_id=#{supp_id}
	</delete>
	<!-- 添加总实例推送的品牌信息 -->
	<insert id="addPushBrand" parameterType="com.entity.BrandTab">
		INSERT INTO brand_tab(brand_id,brand_supp_id, brand_cate_id,brand_name,brand_logo,brand_weight,lock_status) 
		VALUES (#{brand_id},#{brand_supp_id},#{brand_cate_id},#{brand_name},#{brand_logo},#{brand_weight},'锁定')
	</insert>
	<!-- 更新总实例推送的品牌信息 -->
	<update id="updatePushBrand" parameterType="com.entity.BrandTab">
		UPDATE brand_tab 
		<trim prefix="set" suffixOverrides=",">
			<if test="brand_supp_id!=0">
				brand_supp_id=#{brand_supp_id},
			</if>
			<if test="brand_cate_id!=0">
				brand_cate_id=#{brand_cate_id},
			</if>
			<if test="brand_name!=null">
				brand_name=#{brand_name},
			</if>
			<if test="brand_logo!=null">
				brand_logo=#{brand_logo},
			</if>
			<if test="brand_weight!=null">
				brand_weight=#{brand_weight},
			</if>
			<!-- <if test="lock_status!=null">
			 	lock_status=#{lock_status},
			</if> -->
		</trim> 
		WHERE brand_id =#{brand_id}
	</update>
	<!-- 删除总实例推送的品牌信息 -->
	<delete id="deletePushBrand" parameterType="int">
		DELETE FROM brand_tab WHERE brand_id =#{brand_id}
	</delete>
</mapper>