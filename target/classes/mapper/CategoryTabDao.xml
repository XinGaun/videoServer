<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.CategoryTabDao">
	<!-- 添加品类信息 -->
	<insert id="addCategoryTab" parameterType="com.entity.CategoryTab" useGeneratedKeys="true" keyProperty="cate_id">
		INSERT INTO category_tab(cate_name,cate_weight
		<if test="cate_superior!=0">
			,cate_superior
		</if>
		<if test="lock_status!=null">
			,lock_status
		</if>
		) VALUES (#{cate_name},#{cate_weight}
		<if test="cate_superior!=0">
			,#{cate_superior}
		</if>
		<if test="lock_status!=null">
			,#{lock_status}
		</if>
		)
	</insert>
	<!-- 查询品类信息 -->
	<select id="queryCategoryTab" resultType="java.util.HashMap"
		parameterType="java.util.HashMap">
		SELECT cate_id,cate_name,cate_superior,cate_weight,lock_status FROM category_tab
		WHERE 1=1
		<if test="cate_id!=null">
			and cate_id = #{cate_id}
		</if>
		<if test="cate_ids!=null">
			and cate_id = #{cate_ids}
		</if>
		<if test="brand_cate_id!=null">
			and cate_id = #{brand_cate_id}
		</if>
		<if test="spec_cate_id!=null">
			and cate_id = #{spec_cate_id}
		</if>
		<if test="comm_cate_id!=null">
			and cate_id = #{comm_cate_id}
		</if>
		<if test="cate_name!=null">
			and cate_name = #{cate_name}
		</if>
		<if test="cate_superior!=null">
			and cate_superior = #{cate_superior}
		</if>
		<if test="lock_status!=null">
			and lock_status = #{lock_status}
		</if>
		<if test="cate_ids==null">
		<if test="brand_cate_id==null">
			<if test="spec_cate_id==null">
				<if test="comm_cate_id==null">
					<if test="cate_superior==null">
						and cate_superior is null
					</if>
				</if>
			</if>
		</if>
		</if>
		ORDER BY cate_weight DESC
	</select>
	<!-- ID查询品类信息 -->
	<select id="queryCateID" resultType="java.util.HashMap" parameterType="java.util.HashMap">
		SELECT cate_id,cate_name,cate_superior,cate_weight,lock_status FROM category_tab
		WHERE 1=1 
		<if test="cate_id!=null">
			and cate_id = #{cate_id}
		</if>
		<if test="cate_name!=null">
			and cate_name = #{cate_name}
		</if>
		<if test="cate_superior!=null">
			and cate_superior = #{cate_superior}
		</if>
		<if test="lock_status!=null">
			and lock_status = #{lock_status}
		</if>
		ORDER BY cate_weight DESC 
	</select>
	<!-- 查询品类总数信息 -->
	<select id="queryCategoryTabCount" resultType="int"
		parameterType="java.util.HashMap">
		SELECT COUNT(cate_id) FROM category_tab WHERE 1=1
		<if test="cate_id!=null">
			and cate_id = #{cate_id}
		</if>
		<if test="cate_name!=null">
			and cate_name = #{cate_name}
		</if>
		<if test="cate_superior!=null">
			and cate_superior = #{cate_superior}
		</if>
		<if test="cate_superior==null">
			and cate_superior is null
		</if>
		<if test="lock_status!=null">
			and lock_status = #{lock_status}
		</if>
	</select>
	<!-- 更新品类信息 -->
	<update id="updateCategoryTab" parameterType="com.entity.CategoryTab">
		UPDATE category_tab
		<trim prefix="set" suffixOverrides=",">
			<if test="cate_name!=null">
				cate_name=#{cate_name},
			</if>
			<if test="cate_superior!=0">
				cate_superior=#{cate_superior},
			</if>
			<if test="cate_weight!=null">
				cate_weight=#{cate_weight},
			</if>
			<if test="lock_status!=null">
				lock_status=#{lock_status},
			</if>
		</trim>
		WHERE cate_id =#{cate_id}
	</update>
	<!-- 删除买家信息 -->
	<delete id="deleteCategoryTab" parameterType="int">
		DELETE FROM
		category_tab WHERE cate_id =#{cate_id}
	</delete>
</mapper>