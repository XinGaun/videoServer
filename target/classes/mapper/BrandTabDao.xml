<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.BrandTabDao">
	<!-- 添加品牌信息 -->
	<insert id="addBrandTab" parameterType="com.entity.BrandTab" useGeneratedKeys="true" keyProperty="brand_id">
		INSERT INTO brand_tab(brand_supp_id, brand_cate_id,brand_name,brand_logo,brand_weight
		<if test="lock_status!=null">
			,lock_status
		</if>
		) VALUES (#{brand_supp_id},#{brand_cate_id},#{brand_name},#{brand_logo},#{brand_weight}
		<if test="lock_status!=null">
			,#{lock_status}
		</if>
		)
	</insert>
	<!-- 查询品牌信息 -->
	<select id="queryBrandTab" resultType="java.util.HashMap" parameterType="java.util.HashMap">
		SELECT brand_id,brand_supp_id,brand_cate_id,brand_name,brand_logo,brand_weight,lock_status FROM brand_tab WHERE 1=1 
		<if test="brand_id!=null">
			and brand_id = #{brand_id}
		</if>
		<if test="cate_id!=null">
			<if test="cate_id.size()>0">
				and brand_cate_id in 
				<foreach collection="cate_id" item="employeeId" index="index"
					open="(" close=")" separator=",">
					#{employeeId}
				</foreach>
			</if>
		</if>
		
		<if test="brand_supp_id!=null">
			and brand_supp_id = #{brand_supp_id}
		</if>
		<if test="comm_brand_id!=null">
			and brand_id = #{comm_brand_id}
		</if>
		<if test="brand_name!=null">
			and brand_name = #{brand_name}
		</if> 
		<if test="lock_status!=null">
			and lock_status=#{lock_status}
		</if>
		ORDER BY brand_weight DESC 
		<if test="all==null">
			LIMIT #{page} OFFSET #{nums}
		</if>
		
	</select>
	<!-- 查询品牌总数信息 -->
	<select id="queryBrandTabCount" resultType="int" parameterType="java.util.HashMap">
		SELECT COUNT(brand_id) FROM brand_tab WHERE 1=1 
		<if test="brand_id!=0">
			and brand_id = #{brand_id}
		</if>
		<if test="cate_id!=null">
			<if test="cate_id.size()>0">
				and brand_cate_id in 
				<foreach collection="cate_id" item="employeeId" index="index"
					open="(" close=")" separator=",">
					#{employeeId}
				</foreach>
			</if>
		</if>
		<if test="brand_supp_id!=0">
			and brand_supp_id = #{brand_supp_id}
		</if>
		<if test="brand_cate_id!=0">
			and brand_cate_id = #{brand_cate_id}
		</if>
		<if test="brand_name!=null">
			and brand_name = #{brand_name}
		</if>
		<if test="lock_status!=null">
			and lock_status=#{lock_status}
		</if>
	</select>
	<!-- 更新品牌信息 -->
	<update id="updateBrandTab" parameterType="com.entity.BrandTab">
		UPDATE brand_tab 
		<trim prefix="set" suffixOverrides=",">
			<if test="brand_supp_id!=0">
				brand_supp_id=#{brand_supp_id},
			</if>
			<if test="brand_cate_id!=0">
				brand_cate_id=#{brand_cate_id},
			</if>
			<if test="brand_name!=null">
				brand_name=#{brand_name},
			</if>
			<if test="brand_logo!=null">
				brand_logo=#{brand_logo},
			</if>
			<if test="brand_weight!=null">
				brand_weight=#{brand_weight},
			</if>
			<if test="lock_status!=null">
			 	lock_status=#{lock_status},
			</if>
		</trim> 
		WHERE brand_id =#{brand_id}
	</update>
	<!-- 删除品牌信息 -->
	<delete id="deleteBrandTab" parameterType="int">
		DELETE FROM brand_tab WHERE brand_id =#{brand_id}
	</delete>

	
</mapper>