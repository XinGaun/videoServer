	<!DOCTYPE html>
	<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		  <meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title></title>
		<!-- Bootstrap Styles-->
		<link href="assets/css/bootstrap.css" rel="stylesheet" />
		 <!-- FontAwesome Styles-->
		<link href="assets/css/font-awesome.css" rel="stylesheet" />
		 <!-- Morris Chart Styles-->
	   
			<!-- Custom Styles-->
		<link href="assets/css/custom-styles.css" rel="stylesheet" />
		 <!-- Google Fonts-->
	   <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
		 <!-- TABLE STYLES-->
		<link href="assets/js/dataTables/dataTables.bootstrap.css" rel="stylesheet" />
		<link href="dist/css/bootstrap-datepicker3.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="js/layui/css/layui.css" />
		<script type="text/javascript" src="js/laydate/laydate.js"></script>
		<script type="text/javascript" src="js/layui/layui.js"></script>
	</head>
	<body>
		<div id="wrapper">
			<nav class="navbar navbar-default top-navbar" role="navigation">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="index.html"><i class="fa fa-comments"></i> <strong>语道后台管理 </strong></a>
				</div>

				<ul class="nav navbar-top-links navbar-right">
					<li class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
							<i class="fa fa-envelope fa-fw"></i> <i class="fa fa-caret-down"></i>
						</a>
						<ul class="dropdown-menu dropdown-messages">
							<li>
								<a href="#">
									<div>
										<strong>John Doe</strong>
										<span class="pull-right text-muted">
											<em>Today</em>
										</span>
									</div>
									<div>Lorem Ipsum has been the industry's standard dummy text ever since the 1500s...</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="#">
									<div>
										<strong>John Smith</strong>
										<span class="pull-right text-muted">
											<em>Yesterday</em>
										</span>
									</div>
									<div>Lorem Ipsum has been the industry's standard dummy text ever since an kwilnw...</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="#">
									<div>
										<strong>John Smith</strong>
										<span class="pull-right text-muted">
											<em>Yesterday</em>
										</span>
									</div>
									<div>Lorem Ipsum has been the industry's standard dummy text ever since the...</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a class="text-center" href="#">
									<strong>Read All Messages</strong>
									<i class="fa fa-angle-right"></i>
								</a>
							</li>
						</ul>
						<!-- /.dropdown-messages -->
					</li>
					<!-- /.dropdown -->
					<li class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
							<i class="fa fa-tasks fa-fw"></i> <i class="fa fa-caret-down"></i>
						</a>
						<ul class="dropdown-menu dropdown-tasks">
							<li>
								<a href="#">
									<div>
										<p>
											<strong>Task 1</strong>
											<span class="pull-right text-muted">60% Complete</span>
										</p>
										<div class="progress progress-striped active">
											<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
												<span class="sr-only">60% Complete (success)</span>
											</div>
										</div>
									</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="#">
									<div>
										<p>
											<strong>Task 2</strong>
											<span class="pull-right text-muted">28% Complete</span>
										</p>
										<div class="progress progress-striped active">
											<div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="28" aria-valuemin="0" aria-valuemax="100" style="width: 28%">
												<span class="sr-only">28% Complete</span>
											</div>
										</div>
									</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="#">
									<div>
										<p>
											<strong>Task 3</strong>
											<span class="pull-right text-muted">60% Complete</span>
										</p>
										<div class="progress progress-striped active">
											<div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
												<span class="sr-only">60% Complete (warning)</span>
											</div>
										</div>
									</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="#">
									<div>
										<p>
											<strong>Task 4</strong>
											<span class="pull-right text-muted">85% Complete</span>
										</p>
										<div class="progress progress-striped active">
											<div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100" style="width: 85%">
												<span class="sr-only">85% Complete (danger)</span>
											</div>
										</div>
									</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a class="text-center" href="#">
									<strong>See All Tasks</strong>
									<i class="fa fa-angle-right"></i>
								</a>
							</li>
						</ul>
						<!-- /.dropdown-tasks -->
					</li>
					<!-- /.dropdown -->
					<li class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
							<i class="fa fa-bell fa-fw"></i> <i class="fa fa-caret-down"></i>
						</a>
						<ul class="dropdown-menu dropdown-alerts">
							<li>
								<a href="#">
									<div>
										<i class="fa fa-comment fa-fw"></i> New Comment
										<span class="pull-right text-muted small">4 min</span>
									</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="#">
									<div>
										<i class="fa fa-twitter fa-fw"></i> 3 New Followers
										<span class="pull-right text-muted small">12 min</span>
									</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="#">
									<div>
										<i class="fa fa-envelope fa-fw"></i> Message Sent
										<span class="pull-right text-muted small">4 min</span>
									</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="#">
									<div>
										<i class="fa fa-tasks fa-fw"></i> New Task
										<span class="pull-right text-muted small">4 min</span>
									</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="#">
									<div>
										<i class="fa fa-upload fa-fw"></i> Server Rebooted
										<span class="pull-right text-muted small">4 min</span>
									</div>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a class="text-center" href="#">
									<strong>See All Alerts</strong>
									<i class="fa fa-angle-right"></i>
								</a>
							</li>
						</ul>
						<!-- /.dropdown-alerts -->
					</li>
					<!-- /.dropdown -->
					<li class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
							<i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>
						</a>
						<ul class="dropdown-menu dropdown-user">
							<li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
							</li>
							<li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="javascript:teacherLoginOut()"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
							</li>
						</ul>
						<!-- /.dropdown-user -->
					</li>
					<!-- /.dropdown -->
				</ul>
			</nav>
			<!--/. NAV TOP  -->
			<nav class="navbar-default navbar-side" role="navigation">
				<div class="sidebar-collapse">
				
					<ul class="nav" id="main-menu">
						<li class="role" style="display: none;">
							<a href="#"><i class="fa fa-sitemap"  class="active-menu"></i>权限管理<span class="fa arrow"></span></a>
							<ul class="nav nav-second-level collapse in">
								<li>
									<a href="role_list.html" ><i class="fa fa-lock"></i> 权限管理</a>
								</li>
								<li>
									<a href="teacher_list.html" class="active-menu"><i class="fa fa-users"></i> 教师管理</a>
								</li>
								<li>
									<a href="user_list.html"><i class="fa fa-user"></i> 用户管理</a>
								</li>
							</ul>
						</li>
						<li>
	                        <a href="videoInfo.html"><i class="fa fa-table"></i>视频管理</a>
	                    </li>
	                    <li>
	                        <a href="classInfo.html"><i class="fa fa-edit"></i>课程管理</a>
	                    </li>
	               <!--      <li>
	                        <a href="taocanInfo.html"><i class="fa fa-sitemap"></i>套餐管理</a>
	                    </li>
						<li class="role" style="display: none;">
							<a href="coupon.html"><i class="fa fa-qrcode"></i>优惠券管理</a>
						</li> -->
						<li>
							<a href="comment.html"><i class="fa fa-table"></i>评论管理</a>
						</li>
						<li class="role" style="display: none;">
							<a href="order.html"><i class="fa fa-table"></i>订单管理</a>
						</li>
						<li class="role" style="display: none;">
							<a href="proposal.html"><i class="fa fa-edit"></i>建议管理</a>
						</li>
						<li class="role" style="display: none;">
							<a href="test.html" ><i class="fa fa-edit"></i>题目管理</a>
						</li>
					</ul>
					

				</div>

			</nav>
			<!-- /. NAV SIDE  -->
			
			
			<div id="page-wrapper" >
				<div id="page-inner">
				 <div class="row">
					<div class="col-md-12">
						<h3 class="page-header">
							语道 <small>教师管理</small>
						</h3>
					</div>
				</div> 
				 <!-- /. ROW  -->
					
<div class="row">
	<div class="col-md-12">
		<!-- Advanced Tables -->
		<div class="panel panel-default">
			<div class="table-responsive">
				<table class="table" class="display table-striped table-bordered table-hover table-condensed" cellspacing="0" width="100%">
					<tr>
						<td>
							<div class="input-group" width="100%">
								<span class="input-group-addon">姓名</span>
								<input type="text" class="form-control" placeholder="请输入查询姓名" id="teacher_name">
							</div>
						</td>
						<td>
							<div class="input-group" width="100%">
								<span class="input-group-addon">电话</span>
								<input type="text" class="form-control" placeholder="请输入查询电话" id="teacher_phone">
							</div>
						</td>
						<td>
							<div class="input-group" width="100%">
								<span class="input-group-addon" width="100%">邮箱</span>
								<input type="text" class="form-control" placeholder="请输入查询邮箱" id="teacher_mail">
							</div>
						</td>
						<td>
							<div class="input-group" width="100%">
								<span class="input-group-addon">状态</span>
								<select id="teacher_status" class="form-control">
									<option value=""></option>
									<option value="5">正常</option>
									<option value="6">禁用</option>
								</select>
							</div>
						</td>
					</tr>
					<tr>
						<td>
							<a href="teacher_add.html" class="btn btn-success">添加教师</a>
						</td>
						<td></td>
						<td></td>
						<td>
							<div style="float:right">
								<button type="button" class="btn btn-primary" id="queryTeacherInfo">搜索</button>&nbsp;&nbsp; &nbsp;&nbsp;
								<button type="button" class="btn btn-warning" id="eliminates">清空</button>
							</div>
						</td>
					</tr>
				</table>

			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		
		<!-- Advanced Tables -->
		<div class="panel panel-default">
			<div class="panel-body">
				<div class="table-responsive" id="fatable">
				  <table id="example" class="display table-striped table-bordered table-hover table-condensed" cellspacing="0" width="100%">
					<thead>
						<tr>
							<th>
								<input type="checkbox" class="checkall" />
							</th>
							<th>序号</th>
							<th>教师编号</th>
							<th>姓名</th>
							<th>电话</th>
							<th>邮箱</th>
							<th>录入日期</th>
							<th>状态</th>
							<th>简介</th>
							<th>操作</th>
						</tr>
					</thead>
					<tbody id="teacherBody">
						
					</tbody>
				</table>
				<div id="publicPaging"></div>
				</div>
			</div>
		</div>
		<!--End Advanced Tables -->
	</div>
</div>
				  
	</div>
 
	</div>
				 <!-- /. PAGE INNER  -->
				</div>
			 <!-- /. PAGE WRAPPER  -->
		 <!-- /. WRAPPER  -->
		<!-- JS Scripts-->
		<!-- jQuery Js -->
		<script src="assets/js/jquery-1.10.2.js"></script>
		  <!-- Bootstrap Js -->
		<script src="assets/js/bootstrap.min.js"></script>
		<!-- Metis Menu Js -->
		<script src="assets/js/jquery.metisMenu.js"></script>
		 <!-- DATA TABLE SCRIPTS -->
		<script src="assets/js/dataTables/jquery.dataTables.js"></script>
		<script src="assets/js/dataTables/dataTables.bootstrap.js"></script>
		<script src="dist/js/bootstrap-datepicker.min.js"></script>
		<script src="dist/js/bootstrap-datepicker.zh-CN.min.js"></script>
		<script src="assets/js/common.js"></script>
		
			<script>
				//var url="http://localhost:8080/videoServer/";
				var url = "/videoServer/";
	$(function () {
		var obj = {
					curr:1,
					limit:20,
					totalRows:0
				}
		init();
		
		function init(){
			loadRoleInfo();
			loadData();
			
		}
		
		$("#queryTeacherInfo").click(function(){
			loadData();
		})
		
		function fenye(obj){
			/* alert("进去分页");  */
			//不显示首页尾页
			layui.use(['laypage', 'layer'], function(){
				var laypage = layui.laypage,
				layer = layui.layer;
				laypage.render({
					elem: 'publicPaging',	
					count: obj.totalRows,
					skip:true,
					groups:5,
					first:1,
					curr:obj.curr,
					limit:obj.limit,
					last:'尾页',
					theme: '#1E9FFF',
					jump:function(obj2,first){
						//obj包含了当前分页的所有参数，比如
						obj.curr=obj2.curr;
						//首次不执行
						if(!first){
							//do something 
							loadData()
						} 
					},
				});
			})
		} 

		
		function loadData(){
			$.ajax({
					type: "POST",
					url: url+"teacher/queryTeacherAll",
					datatype:'json',
					cache: false,  //禁用缓存
					data: {
						"teacher_name":$("#teacher_name").val(),
						"teacher_phone":$("#teacher_phone").val(),
						"teacher_status":$("#teacher_status").val(),
						"teacher_mail":$("#teacher_mail").val(),
						"pageSize":obj.limit,
						"currPage":obj.curr
					},  
					success: function (data) {
						console.log("data:"+data);
						if(data.retCode == 1){	//加载成功
							//添加数据
							addTeacherBody(data.listObject);
							obj.totalRows=data.retObject.totalRows;
							fenye(obj);
						}else{
							alert("删除失败");
						}
					}
			});
		}
		
		//显示数据
		function addTeacherBody(data){
			var tbody = $("#teacherBody");
			tbody.empty();
			var str = "";
			for (var i=0;i<data.length;i++) {
				var cla = "";
				str += "<tr class=\""+cla+"\">"+
							"<td><input type=\"checkbox\"  class=\"checkchild\" name=\"ordercheck\" value=\"" + data[i].teacher_id + "\" /></td>"+
							"<td>"+((obj.curr-1)*obj.limit+i+1)+"</td>"+
							"<td>"+data[i].teacher_id+"</td>"+
							"<td>"+data[i].teacher_name+"</td>"+
							"<td>"+data[i].teacher_phone+"</td>"+
							"<td>"+data[i].teacher_mail+"</td>"+
							"<td>"+data[i].teacher_date+"</td>"+
							"<td>"+data[i].teacher_status+"</td>"+
							"<td>"+data[i].teacher_introduce+"</td>"+
							"<td><a href='teacher_info.html?id="+ data[i].teacher_id +"' class=\"btn btn-info\">查看</a>"+
							"&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"javascript:deleteTeacherInfo('"+ data[i].teacher_id +"');\" class=\"btn btn-danger\">删除</a>"+
							"</td>"+
							"</tr>";
			}
			tbody.append($(str));
		}
		
		//全选
			$('.checkall').click(function () {  
				
			});
			//清除搜索框
			$("#eliminates").click(function(){
				$("#teacher_name").val("");
				$("#teacher_phone").val("");
				$("#teacher_status").val("");
				$("#teacher_name").val("");
			});
			//日期控件
			$("#sandbox-container .input-daterange").datepicker({
				language:"zh-CN",
				 format: 'yyyy-mm-dd'
			});

			$(".checkall").click(function () {
				var check = $(this).prop("checked");
				$(".checkchild").prop("checked", check);
			});
			//提示信息
			var lang = {
				"sProcessing": "处理中...",
				"sLengthMenu": "每页 _MENU_ 项",
				"sZeroRecords": "没有匹配结果",
				"sInfo": "当前显示第 _START_ 至 _END_ 项，共 _TOTAL_ 项。",
				"sInfoEmpty": "当前显示第 0 至 0 项，共 0 项",
				"sInfoFiltered": "(由 _MAX_ 项结果过滤)",
				"sInfoPostFix": "",
				"sSearch": "搜索:",
				"sUrl": "",
				"sEmptyTable": "表中数据为空",
				"sLoadingRecords": "载入中...",
				"sInfoThousands": ",",
				"oPaginate": {
					"sFirst": "首页",
					"sPrevious": "上页",
					"sNext": "下页",
					"sLast": "末页",
					"sJump": "跳转"
				},
				"oAria": {
					"sSortAscending": ": 以升序排列此列",
					"sSortDescending": ": 以降序排列此列"
				}
			};
		});
		//删除教师信息
		function deleteTeacherInfo(teacher_id){
			$.ajax({
					type: "POST",
					url: url+"teacher/deleteTeacherInfo",
					datatype:'json',
					cache: false,  //禁用缓存
					data: {
						"teacher_id":teacher_id
					},  
					dataType: "json",
					success: function (data) {
						if(data.retCode == 1){	//加载成功
							//添加数据
							window.location.reload();
						}else{
							alert("删除失败");
						}
					}
			});
		}
		</script>
			 <!-- Custom Js -->
		<script src="assets/js/custom-scripts.js"></script>
		
	   
	</body>
	</html>
