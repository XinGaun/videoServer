<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.coursesTabDao">
	<insert id="addCoursesTab" parameterType="com.entity.coursesTab">
		insert into courses_tab(courses_name,courses_introduce,courses_video,courses_img_url,courses_date,courses_pricemoney) 
		values(#{courses_name,jdbcType=VARCHAR},#{courses_introduce,jdbcType=VARCHAR},#{courses_video,jdbcType=VARCHAR},#{courses_img_url,jdbcType=VARCHAR},now(),#{courses_pricemoney,jdbcType=VARCHAR})
	</insert>
	<select id="getTabList" parameterType="com.entity.coursesTab" resultType="com.entity.coursesTab">
		select * from courses_tab 
			<where> courses_status=5
				<if test="courses_name !='' and courses_name !=null">
					and courses_name=#{courses_name,jdbcType=INTEGER} 
				</if>
				<if test="courses_pricemoney !='' and courses_pricemoney !=null">
					and courses_pricemoney=#{courses_pricemoney,jdbcType=VARCHAR}
				</if>
				<if test="courses_grade !='' and courses_grade !=null">
					and courses_grade=#{courses_grade,jdbcType=VARCHAR}
				</if>
			</where>
	</select>
	<select id="getTabListById" parameterType="int" resultType="com.entity.coursesTab">
		select * from courses_tab where courses_id=#{id,jdbcType=INTEGER} 
	</select>
	<update id="delCoursesById" parameterType="com.entity.coursesTab">
		update courses_tab set courses_status='6' where courses_id=#{id,jdbcType=INTEGER} 
	</update>
	<update id="upCoursesById" parameterType="com.entity.coursesTab">
		update courses_tab set courses_name=#{courses_name,jdbcType=VARCHAR},courses_introduce=#{courses_introduce,jdbcType=VARCHAR},
		courses_video=#{courses_video,jdbcType=VARCHAR},courses_img_url=#{courses_img_url,jdbcType=VARCHAR},courses_pricemoney=#{courses_pricemoney,jdbcType=VARCHAR} 
		where courses_id=#{courses_id,jdbcType=INTEGER} 
	</update>
</mapper>