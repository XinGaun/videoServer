<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.IndexConfigDao">
	<!-- 添加首页滚播数据 -->
	<insert id="addRollplayTab" parameterType="java.util.HashMap">
		insert into rollplay_tab(roll_img, roll_url, roll_weight) VALUES 
  		(#{roll_img},#{roll_url},#{roll_weight})
	</insert>
	<!-- 查询首页滚播放数据 -->
	<select id="queryRollplayRab" parameterType="java.util.HashMap" resultType="java.util.HashMap">
		select roll_id,roll_img,roll_url,roll_weight from rollplay_tab
		order by roll_weight desc
		limit #{startNum},#{endIndex}
	</select>
	<!-- 查询首页滚播数据总数 -->
	<select id="queryRollplayTabCount" parameterType="java.util.HashMap" resultType="int">
		select count(1) from rollplay_tab
	</select>
	<!-- 更新首页滚动播放数据 -->
	<update id="updateRollplayTab" parameterType="java.util.HashMap">
		update rollplay_tab
		<trim prefix="set" suffixOverrides=",">
			<if test="roll_img!=null">
				roll_img =#{roll_img},
			</if>
			<if test="roll_url!=null">
				roll_url =#{roll_url},
			</if>
			<if test="roll_weight!=null">
				roll_weight =#{roll_weight},
			</if>
		</trim>
		where roll_id =#{roll_id}
	</update>
	<!--  删除首页滚播数据 -->
	<delete id="deleteRollplayTab" parameterType="java.util.HashMap">
		delete from rollplay_tab where 1=1
		and roll_id = #{roll_id}
		<!--  in
		<foreach collection="list" item="roll_id" index="index"
					open="(" close=")" separator=",">
					#{roll_id}
		</foreach> -->
	</delete>
	<!-- 添加首页通知信息 -->
	<insert id="addinform" parameterType="java.util.HashMap">
		insert into inform_tab(info_text, teac_id, info_url,info_weight) VALUES
		(#{info_text},#{teac_id},#{info_url},#{info_weight})
	</insert>
	<!-- 查询首页通知信息 -->
	<select id="queryinformList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
		select info_id,info_text,date_format(info_date,'%Y-%m-%d %h:%i:%s')info_date,teacher_id,info_url,teacher_name,info_weight from inform_tab info
		left join teacher_tab t2 on info.teac_id = t2.teacher_id
		order by info_weight desc
		limit #{startNum},#{endIndex}
	</select>
	<!-- 查询首页通知信息总数 -->
	<select id="queryinformCount" parameterType="java.util.HashMap" resultType="int">
		select count(1) from inform_tab
	</select>
	<!-- 删除通知消息 -->
	<delete id="deleteinform" parameterType="java.util.HashMap">
		delete from inform_tab where info_id = #{info_id}
	</delete>
	<!-- 修改通知信息 -->
	<update id="updateinform" parameterType="java.util.HashMap">
		update inform_tab set
		info_text=#{info_text},info_url=#{info_url},info_weight=#{info_weight}
		where info_id =#{info_id}
	</update>
	<!-- 添加教师展示信息 -->
	<insert id="addTeachershowTab" parameterType="java.util.HashMap">
		insert into teachershow_tab(teac_show_img, teac_show_name, teac_show_introduce,teac_show_weight,teac_show_url) VALUES 
  		(#{teac_show_img},#{teac_show_name},#{teac_show_introduce},#{teac_show_weight},#{teac_show_url})
	</insert>
	<!-- 查询展示教师信息 -->
	<select id="queryTeachershowTab" parameterType="java.util.HashMap" resultType="java.util.HashMap">
		select teac_show_id,teac_show_img,teac_show_name,teac_show_introduce,teac_show_url,teac_show_weight from teachershow_tab
		order by teac_show_weight desc
	</select>
	<!-- 查询展示教师信息总数 -->
	<select id="queryTeachershowTabCount" parameterType="java.util.HashMap" resultType="int">
		select count(1) from teachershow_tab
	</select>
	<!-- 删除展示教师信息 -->
	<delete id="deleteTeachershowTab" parameterType="java.util.HashMap">
		delete from teachershow_tab where teac_show_id = #{teac_show_id}
	</delete>
	<!-- 更新展示教师信息 -->
	<update id="updateTeachershowTab" parameterType="java.util.HashMap">
		update teachershow_tab
		<trim prefix="set" suffixOverrides=",">
			<if test="teac_show_img!=null">
				teac_show_img =#{teac_show_img},
			</if>
			<if test="teac_show_name!=null">
				teac_show_name =#{teac_show_name},
			</if>
			<if test="teac_show_introduce!=null">
				teac_show_introduce =#{teac_show_introduce},
			</if>
			<if test="teac_show_url!=null">
				teac_show_url =#{teac_show_url},
			</if>
			<if test="teac_show_weight!=null">
				teac_show_weight =#{teac_show_weight},
			</if>
		</trim>
		where teac_show_id =#{teac_show_id}
	</update>
	<!-- 首页查询滚播内容 -->
	<select id="queryrRollplaTabAll" parameterType="java.util.HashMap" resultType="java.util.HashMap">
		select * from rollplay_tab order by roll_weight desc
	</select>
	<!-- 首页查询通知消息 -->
	<select id="queryinformAll" parameterType="java.util.HashMap" resultType="java.util.HashMap">
		select * from inform_tab order by info_weight desc
	</select>
	<!-- 首页查询展示教师信息 -->
	<select id="queryTeachershowTabAll" parameterType="java.util.HashMap" resultType="java.util.HashMap">
		select * from teachershow_tab order by teac_show_weight desc 
	</select>
</mapper>