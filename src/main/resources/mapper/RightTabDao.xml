<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.RightTabDao">
	<!-- 添加权限 -->
	<insert id="addRightTab" parameterType="com.entity.RightTab">
		INSERT INTO right_tab(righ_name, righ_api,righ_group) VALUES (#{righ_name},#{righ_api},#{righ_group})
	</insert>
	<!-- 查询权限 -->
	<select id="queryRightTab" resultType="java.util.HashMap" parameterType="java.util.HashMap">
		SELECT righ_id,righ_name,righ_api,righ_group FROM right_tab WHERE 1=1 
		<if test="righ_id!=null">
			and righ_id = #{righ_id}
		</if>
		<if test="righ_name!=null">
			and righ_name = #{righ_name}
		</if>
		<if test="righ_api!=null">
			and righ_api = #{righ_api}
		</if>
		<if test="righ_group!=null">
			and righ_group = #{righ_group}
		</if>
	</select>
	<!-- 查询权限总数信息 -->
	<select id="queryRightTabCount" resultType="int" parameterType="java.util.HashMap">
		SELECT COUNT(righ_id) FROM right_tab WHERE 1=1 
		<if test="righ_id!=null">
			and righ_id = #{righ_id}
		</if>
		<if test="righ_name!=null">
			and righ_name = #{righ_name}
		</if>
		<if test="righ_api!=null">
			and righ_api = #{righ_api}
		</if>
		<if test="righ_group!=null">
			and righ_group = #{righ_group}
		</if>
	</select>
	<!-- 更新权限信息 -->
	<update id="updateRightTab" parameterType="com.entity.RightTab">
		UPDATE right_tab 
		<trim prefix="set" suffixOverrides=",">
			<if test="righ_name!=null">
				righ_name=#{righ_name},
			</if>
			<if test="righ_api!=null">
				righ_api=#{righ_api},
			</if>
			<if test="righ_group!=null">
				righ_group=#{righ_group},
			</if>
		</trim> 
		WHERE righ_id =#{righ_id}
	</update>
	<!-- 删除权限信息 -->
	<delete id="deleteRightTab" parameterType="int">
		DELETE FROM right_tab WHERE righ_id =#{righ_id}
	</delete>
	<!-- 查询组别 -->
	<select id="queryRightGroup" parameterType="java.util.HashMap" resultType="java.util.HashMap">
		SELECT righ_group FROM right_tab WHERE 1=1 
		<if test="righ_id!=null">
			and righ_id = #{righ_id}
		</if>
		<if test="righ_name!=null">
			and righ_name = #{righ_name}
		</if>
		<if test="righ_api!=null">
			and righ_api = #{righ_api}
		</if>
		<if test="righ_group!=null">
			and righ_group = #{righ_group}
		</if>
		GROUP BY righ_group
	</select>
</mapper>