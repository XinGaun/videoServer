<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.BuyerTabDao">
	<!-- 添加买家信息 -->
	<insert id="addBuyerTab" parameterType="com.entity.BuyerTab" useGeneratedKeys="true" keyProperty="buye_id">
		INSERT INTO buyer_tab(nineteen_id, buye_phone) VALUES (#{nineteen_id},#{buye_phone})
	</insert>
	<!-- 查询买家信息 -->
	<select id="queryBuyerTab" resultType="java.util.HashMap" parameterType="java.util.HashMap">
		SELECT buye_id,buye_phone,nineteen_id FROM buyer_tab WHERE 1=1 
		<if test="buye_id!=null">
			and buye_id = #{buye_id}
		</if>
		<if test="buye_phone!=null">
			and buye_phone = #{buye_phone}
		</if>
		<if test="nineteen_id!=null">
			and nineteen_id = #{nineteen_id}
		</if>
		LIMIT #{page} OFFSET #{nums}
	</select>
	<!-- 查询买家总数信息 -->
	<select id="queryBuyerTabCount" resultType="int" parameterType="java.util.HashMap">
		SELECT COUNT(buye_id) FROM buyer_tab WHERE 1=1 
		<if test="buye_id!=null">
			and buye_id = #{buye_id}
		</if>
		<if test="buye_phone!=null">
			and buye_phone = #{buye_phone}
		</if>
		<if test="nineteen_id!=null">
			and nineteen_id = #{nineteen_id}
		</if>
	</select>
	<!-- 更新买家信息 -->
	<update id="updateBuyerTab" parameterType="com.entity.BuyerTab">
		UPDATE buyer_tab 
		<trim prefix="set" suffixOverrides=",">
			<if test="buye_phone!=null">
				buye_phone=#{buye_phone},
			</if>
			<if test="nineteen_id!=null">
				nineteen_id=#{nineteen_id},
			</if>
		</trim> 
		WHERE buye_id =#{buye_id}
	</update>
	<!-- 删除买家信息 -->
	<delete id="deleteBuyerTab" parameterType="int">
		DELETE FROM buyer_tab WHERE buye_id =#{buye_id}
	</delete>
</mapper>