<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dao.CourseDetailsDao">
	<!-- 查询课程详情 -->
	<select id="queryCourseDetails" parameterType="java.util.HashMap"
		resultType="java.util.HashMap">
		SELECT
		courses_id,t.teacher_id,courses_name,courses_introduce,courses_video,courses_pricemoney,
		courses_click,courses_img_url,courses_grade,courses_date,courses_status,c.video_form_id,
		teacher_name,teacher_introduce,teacher_imgurl,
		video_form_name,video_form_class
		FROM courses_tab c LEFT JOIN teacher_tab t ON c.teacher_id=t.teacher_id
		LEFT JOIN video_form_tab v ON v.video_form_id=c.video_form_id
		WHERE 1=1 AND c.courses_id = #{cid}
	</select>
	<!-- 查询视频详情 -->
	<select id="queryVideoDetails" parameterType="int" resultType="java.util.HashMap">
		SELECT video_id,video_name FROM video_tab WHERE video_id = #{video_id}
	</select>
	<select id="queryRecommendCourse" resultType="java.util.HashMap">
		SELECT
		teacher_name,courses_id,teacher_tab.teacher_id,courses_name,courses_introduce,courses_pricemoney,courses_click,courses_img_url,courses_grade,date_format(courses_date,'%Y-%m-%d')courses_date
		FROM courses_tab
		LEFT JOIN teacher_tab ON
		teacher_tab.teacher_id=courses_tab.teacher_id
		WHERE 1=1 AND
		courses_status = 5 order by courses_date DESC LIMIT 0,3
	</select>
</mapper>